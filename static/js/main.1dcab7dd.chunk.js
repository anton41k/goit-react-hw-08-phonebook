(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[8],{107:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(24),u=n.n(a),i=n(19),o=n(46),s=n(21),f=(n(60),n(6)),l=n(33),d=n(20),b=n(29),j=n(8),p=n(3),O=["children","resticted","redirectTo"];var h=function(e){var t=e.children,n=e.resticted,r=void 0!==n&&n,c=e.redirectTo,a=void 0===c?"/":c,u=Object(b.a)(e,O),o=Object(i.c)(j.c)&&r;return Object(p.jsx)(f.b,Object(d.a)(Object(d.a)({},u),{},{children:o?Object(p.jsx)(f.a,{to:a}):t}))},g=["children","redirectTo"];var x=function(e){var t=e.children,n=e.redirectTo,r=void 0===n?"/":n,c=Object(b.a)(e,g),a=Object(i.c)(j.c);return Object(p.jsx)(f.b,Object(d.a)(Object(d.a)({},c),{},{children:a?t:Object(p.jsx)(f.a,{to:r})}))},m=n(43),v=Object(r.lazy)((function(){return n.e(4).then(n.bind(null,172))})),w=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(12),n.e(3)]).then(n.bind(null,179))})),y=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,175))})),k=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(9)]).then(n.bind(null,176))})),L=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.bind(null,177))})),C=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(13),n.e(6)]).then(n.bind(null,180))}));function z(){var e=Object(i.b)();return Object(r.useEffect)((function(){e(Object(j.b)())}),[e]),Object(p.jsx)(r.Suspense,{fallback:Object(p.jsx)(m.a,{}),children:Object(p.jsxs)(v,{children:[Object(p.jsx)(w,{}),Object(p.jsxs)(f.d,{children:[Object(p.jsx)(h,{path:"/",exact:!0,children:Object(p.jsx)(y,{})}),Object(p.jsx)(h,{path:"/register",resticted:!0,children:Object(p.jsx)(k,{})}),Object(p.jsx)(h,{path:"/login",redirectTo:"/contacts",resticted:!0,children:Object(p.jsx)(L,{})}),Object(p.jsx)(x,{path:"/contacts",redirectTo:"/login",children:Object(p.jsx)(C,{})}),Object(p.jsx)(f.a,{to:"/"})]}),Object(p.jsx)(l.a,{position:"top-right",autoClose:3e3})]})})}var S,I=n(27),T=n(7),N=n(11),U=n(18),F=n(50),R=n.n(F),A=n(34),P=n(1),V=Object(T.c)({name:"auth",initialState:{user:{name:null,email:null},token:null,error:null,isLoggedIn:!1,isFetchCurrentUser:!1,isLoading:!1},extraReducers:(S={},Object(P.a)(S,j.g.pending,(function(e,t){e.error=null,e.isLoading=!0})),Object(P.a)(S,j.g.fulfilled,(function(e,t){var n=t.payload;e.user=n.user,e.token=n.token,e.isLoggedIn=!0,e.isLoading=!1})),Object(P.a)(S,j.g.rejected,(function(e,t){e.isLoading=!1,e.error=t.error.message})),Object(P.a)(S,j.e.pending,(function(e,t){e.error=null,e.isLoading=!0})),Object(P.a)(S,j.e.fulfilled,(function(e,t){var n=t.payload;e.user=n.user,e.token=n.token,e.isLoggedIn=!0,e.isLoading=!1})),Object(P.a)(S,j.e.rejected,(function(e,t){e.isLoading=!1,e.error=t.error.message})),Object(P.a)(S,j.f.pending,(function(e,t){e.error=null,e.isLoading=!0})),Object(P.a)(S,j.f.fulfilled,(function(e,t){e.user={name:null,email:null},e.token=null,e.isLoggedIn=!1,e.isLoading=!1})),Object(P.a)(S,j.f.rejected,(function(e,t){e.isLoading=!1,e.error=t.error.message})),Object(P.a)(S,j.b.pending,(function(e,t){e.isFetchCurrentUser=!0,e.isLoading=!0})),Object(P.a)(S,j.b.fulfilled,(function(e,t){var n=t.payload;e.user=n,e.isLoggedIn=!0,e.isFetchCurrentUser=!1,e.isLoading=!1})),Object(P.a)(S,j.b.rejected,(function(e,t){e.isFetchCurrentUser=!1,e.isLoading=!1})),S)}).reducer,_={key:"auth",storage:R.a,whitelist:["token"]},B=Object(I.a)(Object(T.d)({serializableCheck:{ignoredActions:[U.a,U.f,U.b,U.c,U.d,U.e]}})),E=Object(N.b)({contacts:A.a,auth:Object(U.g)(_,V)}),J=Object(T.a)({reducer:E,middleware:B,devTools:!1}),D=Object(U.h)(J);n(106);u.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(i.a,{store:J,children:Object(p.jsx)(o.a,{loading:null,persistor:D,children:Object(p.jsx)(s.a,{children:Object(p.jsx)(z,{})})})})}),document.getElementById("root"))},34:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return p}));var r,c,a,u=n(1),i=n(27),o=n(7),s=n(11),f=n(9),l=Object(o.c)({name:"items",initialState:[],extraReducers:(r={},Object(u.a)(r,f.c.fulfilled,(function(e,t){return t.payload})),Object(u.a)(r,f.a.fulfilled,(function(e,t){return[t.payload].concat(Object(i.a)(e))})),Object(u.a)(r,f.b.fulfilled,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),r)}),d=Object(o.c)({name:"filter",initialState:"",reducers:{setFilterValue:function(e,t){return t.payload}}}),b=d.actions.setFilterValue,j=Object(o.c)({name:"nameNewContact",initialState:"",reducers:{setAddNameContact:function(e,t){return t.payload}}}),p=j.actions.setAddNameContact,O=Object(o.c)({name:"error",initialState:null,extraReducers:(c={},Object(u.a)(c,f.c.pending,(function(){return null})),Object(u.a)(c,f.c.rejected,(function(e,t){return t.error.message})),Object(u.a)(c,f.a.pending,(function(){return null})),Object(u.a)(c,f.a.rejected,(function(e,t){return t.error.message})),Object(u.a)(c,f.b.pending,(function(){return null})),Object(u.a)(c,f.b.rejected,(function(e,t){return t.error.message})),c)}),h=Object(o.c)({name:"isLoading",initialState:!1,extraReducers:(a={},Object(u.a)(a,f.c.pending,(function(){return!0})),Object(u.a)(a,f.c.fulfilled,(function(){return!1})),Object(u.a)(a,f.c.rejected,(function(){return!1})),Object(u.a)(a,f.a.pending,(function(){return!0})),Object(u.a)(a,f.a.fulfilled,(function(){return!1})),Object(u.a)(a,f.a.rejected,(function(){return!1})),Object(u.a)(a,f.b.pending,(function(){return!0})),Object(u.a)(a,f.b.fulfilled,(function(){return!1})),Object(u.a)(a,f.b.rejected,(function(){return!1})),a)}),g=l.reducer,x=d.reducer,m=j.reducer,v=O.reducer,w=h.reducer;t.a=Object(s.b)({items:g,filter:x,nameNewContact:m,error:v,isLoading:w})},43:function(e,t,n){"use strict";var r=n(48),c=n.n(r),a=(n(103),n(49)),u=n.n(a),i=n(3);t.a=function(){return Object(i.jsx)("div",{className:u.a.overlay,children:Object(i.jsx)(c.a,{type:"ThreeDots",color:"rgb(184, 121, 5)",height:"35"})})}},49:function(e,t,n){e.exports={overlay:"LoaderComponent_overlay__2HNd-"}},60:function(e,t,n){},8:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"g",(function(){return w})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return k})),n.d(t,"b",(function(){return L}));var r=function(e){return e.auth.user.name},c=function(e){return e.auth.isLoggedIn},a=function(e){return e.auth.error},u=n(2),i=n.n(u),o=n(10),s=n(7),f=n(13),l=n.n(f);l.a.defaults.baseURL="https://connections-api.herokuapp.com";var d=function(e){l.a.defaults.headers.common.Authorization="Bearer ".concat(e)},b=function(){l.a.defaults.headers.common.Authorization=""};function j(e){return p.apply(this,arguments)}function p(){return(p=Object(o.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/users/signup",t);case 2:return n=e.sent,r=n.data,d(r.token),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/users/login",t);case 2:return n=e.sent,r=n.data,d(r.token),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/users/logout");case 2:b();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(t),e.next=3,l.a.get("/users/current");case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=Object(s.b)("auth/register",function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=Object(s.b)("auth/logIn",function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k=Object(s.b)("auth/logOut",Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:case"end":return e.stop()}}),e)})))),L=Object(s.b)("auth/getCurrentUser",function(){var e=Object(o.a)(i.a.mark((function e(t,n){var r,c,a,u,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,c=n.rejectWithValue,a=r(),null!==(u=a.auth.token)){e.next=5;break}return e.abrupt("return",c());case 5:return e.next=7,m(u);case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},9:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return w})),n.d(t,"d",(function(){return x}));var r=n(2),c=n.n(r),a=n(10),u=n(7),i=n(13),o=n.n(i);function s(){return f.apply(this,arguments)}function f(){return(f=Object(a.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/contacts");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return(d=Object(a.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/contacts",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return j.apply(this,arguments)}function j(){return(j=Object(a.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("/contacts/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.a.defaults.baseURL="https://connections-api.herokuapp.com";var p=Object(u.b)("contacts/fetchContacts",Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),O=Object(u.b)("contacts/addContact",function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=Object(u.b)("contacts/deleteContact",function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=n(28),x=function(e){return e.contacts.nameNewContact},m=function(e){return e.contacts.filter},v=Object(g.a)([m,function(e){return e.contacts.items}],(function(e,t){var n=e.toLowerCase();return t.filter((function(e){var t=e.name,r=e.number;return t.toLowerCase().includes(n)||r.includes(n)})).sort((function(e,t){return e.name.localeCompare(t.name)}))})),w=function(e){return e.contacts.isLoading}}},[[107,10,11]]]);
//# sourceMappingURL=main.1dcab7dd.chunk.js.map